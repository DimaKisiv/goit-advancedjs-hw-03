{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightBoxGallery;\n\nexport function drawGallery(images) {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n  images.forEach(item => {\n    gallery.innerHTML += galleryItemTemplate(item);\n  });\n  if (lightBoxGallery) {\n    lightBoxGallery.refresh();\n  } else {\n    initializeGallery();\n  }\n}\n\nexport function clearGallery() {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n}\n\nfunction galleryItemTemplate(item) {\n  return `<li class=\"gallery-item\">\n              <a class=\"gallery-link\" href=\"${item.largeImageURL}\">\n                  <img\n                  class=\"gallery-image\"\n                  src=\"${item.webformatURL}\"\n                  data-source=\"${item.largeImageURL}\"\n                  alt=\"${item.tags}\"\n                  />\n              </a>\n                <div class=\"card-overlay\">\n                    <div class=\"param\">\n                        <span class=\"param-title\">Likes</span>\n                        <span class=\"param-value\">${item.likes}</span>\n                    </div>\n                    <div class=\"param\">\n                        <span class=\"param-title\">Views</span>\n                        <span class=\"param-value\">${item.views}</span>\n                    </div>\n                    <div class=\"param\">\n                        <span class=\"param-title\">Comments</span>\n                        <span class=\"param-value\">${item.comments}</span>\n                    </div>\n                    <div class=\"param\">\n                        <span class=\"param-title\">Downloads</span>\n                        <span class=\"param-value\">${item.downloads}</span>\n                    </div>\n                </div>\n           </li>`;\n}\n\nfunction initializeGallery() {\n  lightBoxGallery = new SimpleLightbox('.gallery a', {\n    overlayOpacity: 0.8,\n    captions: true,\n    captionsData: 'alt',\n    captionPosition: 'outside',\n    captionDelay: '250',\n  });\n}\n","const API_PIXABAY_URL = 'https://pixabay.com/api/';\nconst API_KEY = '49290147-91bc44204d790a43c13c008af';\n\nexport function getPhotos(text) {\n  const encodedText = encodeURIComponent(text);\n  const apiUrl = `${API_PIXABAY_URL}?key=${API_KEY}&q=${encodedText}&image_type=photo&orientation=horizontal&safesearch=true`;\n  return fetch(apiUrl);\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { clearGallery, drawGallery } from './js/render-functions';\nimport { getPhotos } from './js/pixabay-api';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  document.querySelector('form.form').addEventListener('submit', event => {\n    event.preventDefault();\n    const searchText = event.target.querySelector('input').value;\n    if (searchText.length == 0) return;\n    clearGallery();\n    document.querySelector('.loader').style.display = 'block';\n    getPhotos(searchText)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n        return response.json();\n      })\n      .then(data => {\n        if (data.hits.length) {\n          drawGallery(data.hits);\n        } else {\n          iziToastError(\n            'Sorry, there are no images matching your search query. Please try again!'\n          );\n        }\n      })\n      .catch(error => {\n        iziToastError('Error fetching images:', error);\n      })\n      .finally(() => {\n        document.querySelector('.loader').style.display = 'none';\n      });\n  });\n});\n\nfunction iziToastError(erroMessage) {\n  iziToast.error({\n    message: erroMessage,\n    close: true,\n    position: 'topRight',\n    backgroundColor: '#EF4040',\n    messageColor: '#FAFAFB',\n    maxWidth: '432px',\n    class: 'custom-iziToast',\n  });\n}\n"],"names":["lightBoxGallery","drawGallery","images","gallery","item","galleryItemTemplate","initializeGallery","clearGallery","SimpleLightbox","API_PIXABAY_URL","API_KEY","getPhotos","text","encodedText","apiUrl","event","searchText","response","data","iziToastError","error","erroMessage","iziToast"],"mappings":"6vBAGA,IAAIA,EAEG,SAASC,EAAYC,EAAQ,CAClC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GACpBD,EAAO,QAAQE,GAAQ,CACrBD,EAAQ,WAAaE,EAAoBD,CAAI,CACjD,CAAG,EACGJ,EACFA,EAAgB,QAAO,EAEvBM,GAEJ,CAEO,SAASC,GAAe,CAC7B,MAAMJ,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACtB,CAEA,SAASE,EAAoBD,EAAM,CACjC,MAAO;AAAA,8CACqCA,EAAK,aAAa;AAAA;AAAA;AAAA,yBAGvCA,EAAK,YAAY;AAAA,iCACTA,EAAK,aAAa;AAAA,yBAC1BA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDAMkBA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,oDAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,oDAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,oDAIbA,EAAK,SAAS;AAAA;AAAA;AAAA,iBAIlE,CAEA,SAASE,GAAoB,CAC3BN,EAAkB,IAAIQ,EAAe,aAAc,CACjD,eAAgB,GAChB,SAAU,GACV,aAAc,MACd,gBAAiB,UACjB,aAAc,KAClB,CAAG,CACH,CC9DA,MAAMC,EAAkB,2BAClBC,EAAU,qCAET,SAASC,EAAUC,EAAM,CAC9B,MAAMC,EAAc,mBAAmBD,CAAI,EACrCE,EAAS,GAAGL,CAAe,QAAQC,CAAO,MAAMG,CAAW,2DACjE,OAAO,MAAMC,CAAM,CACrB,CCFA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,SAAS,cAAc,WAAW,EAAE,iBAAiB,SAAUC,GAAS,CACtEA,EAAM,eAAc,EACpB,MAAMC,EAAaD,EAAM,OAAO,cAAc,OAAO,EAAE,MACnDC,EAAW,QAAU,IACzBT,IACA,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,QAClDI,EAAUK,CAAU,EACjB,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE1D,OAAOA,EAAS,MACxB,CAAO,EACA,KAAKC,GAAQ,CACRA,EAAK,KAAK,OACZjB,EAAYiB,EAAK,IAAI,EAErBC,EACE,0EACZ,CAEA,CAAO,EACA,MAAMC,GAAS,CACdD,EAAc,wBAA+B,CACrD,CAAO,EACA,QAAQ,IAAM,CACb,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,MAC1D,CAAO,EACP,CAAG,CACH,CAAC,EAED,SAASA,EAAcE,EAAa,CAClCC,EAAS,MAAM,CACb,QAASD,EACT,MAAO,GACP,SAAU,WACV,gBAAiB,UACjB,aAAc,UACd,SAAU,QACV,MAAO,iBACX,CAAG,CACH"}